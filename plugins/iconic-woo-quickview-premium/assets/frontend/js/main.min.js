!function(c,o){var _={cache:function(){_.els={},_.vars={},_.modal={},_.plugins={},_.vars.loaded_class="jckqv-loaded",_.vars.add_to_cart_params=!1,_.vars.add_to_cart_variation_params=!1,_.plugins.swatches="function"==typeof variation_calculator},on_ready:function(){_.cache(),_.setup_modal(),_.setup_qty_buttons(),_.is_true(jckqv_vars.settings.popup_content_ajaxcart)&&_.setup_add_to_cart(),_.is_true(jckqv_vars.settings.trigger_styling_autohide)&&_.setup_modal_on_hover()},setup_modal:function(){c("body").on(jckqv_vars.settings.trigger_general_method,"[data-jckqvpid]",function(a){var t=_.get_products(),i=c(this).attr("data-jckqvpid"),i=_.get_index_by_product_id(t,i);return _.vars.add_to_cart_params="undefined"!=typeof wc_add_to_cart_params&&wc_add_to_cart_params,_.vars.add_to_cart_variation_params="undefined"!=typeof wc_add_to_cart_variation_params&&wc_add_to_cart_variation_params,c.magnificPopup.open({items:t,type:"ajax",tLoading:jckqv_vars.text.loading,ajax:{settings:{type:"POST"}},gallery:{enabled:_.is_true(jckqv_vars.settings.popup_general_gallery),preload:!1},closeOnContentClick:!1,callbacks:{ajaxContentAdded:function(){_.cache_modal(),_.setup_modal_slider(),_.setup_modal_thumbnail_slider(),_.watch_variations(),_.watch_reset(),c(o.body).trigger("jckqv_open"),c(o.body).trigger("quick-view-displayed")},close:function(){_.reset_modal(),c(o.body).trigger("jckqv_close")},afterChange:function(){this.items=_.get_products()},elementParse:function(a){this.st.ajax.settings.data={action:"jckqv",nonce:_.nonce,product_id:this.items[this.index].data.product_id}}}},i),!1})},setup_modal_on_hover:function(){c(o).on({mouseenter:function(){var a;c(this).find(jckqv_vars.settings.trigger_styling_hoverel).length<=0&&(0<(a=c(this).find("*[data-jckqvpid]")).length&&a.css({visibility:"visible"}).stop().animate({opacity:1},150))},mouseleave:function(){var a=c(this).find("*[data-jckqvpid]");0<a.length&&a.stop().animate({opacity:0},150,function(){c(this).css({visibility:"hidden"})})}},jckqv_vars.settings.trigger_styling_hoverel)},setup_modal_slider:function(){_.modal.slider_wrap.css({opacity:0,"max-height":500}),_.modal.slider.imagesLoaded(function(){var a=_.is_true(jckqv_vars.settings.popup_imagery_imgtransition,"fade"),t=_.is_true(jckqv_vars.settings.popup_imagery_autoplay),i=_.is_true(jckqv_vars.settings.popup_imagery_infinite),e=_.is_true(jckqv_vars.settings.popup_imagery_navarr),s="thumbnails"===jckqv_vars.settings.popup_imagery_thumbnails?"#jckqv_thumbs":null,o=_.is_true(jckqv_vars.settings.popup_imagery_thumbnails,"bullets");_.modal.slider.on({mouseenter:function(){c(this).addClass("jckqv-images--hovered")},mouseleave:function(){c(this).removeClass("jckqv-images--hovered")},beforeChange:function(a,t,i,e){c("#jckqv_thumbs .slick-slide").removeClass("slick-main-active"),c("#jckqv_thumbs .slick-slide[data-index="+e+"]").addClass("slick-main-active")},init:function(a,t){setTimeout(function(){c("#jckqv select").trigger("change")},500),_.modal.slider_wrap.hide().css({opacity:1,"max-height":""}).fadeIn()}}).slick({adaptiveHeight:!0,asNavFor:s,prevArrow:'<a href="javascript:void(0)" class="jckqv-images__arr jckqv-images__arr--prev"><i class="iconic-wqv-icon-chevron-with-circle-left"></i></a>',nextArrow:'<a href="javascript:void(0)" class="jckqv-images__arr jckqv-images__arr--next"><i class="iconic-wqv-icon-chevron-with-circle-right"></i></a>',infinite:i,fade:a,speed:jckqv_vars.settings.popup_imagery_transitionspeed,autoplay:t,autoplaySpeed:jckqv_vars.settings.popup_imagery_autoplaySpeed,arrows:e,dots:o,easing:"easeInOutQuad"})})},setup_modal_thumbnail_slider:function(){_.is_true(jckqv_vars.settings.popup_imagery_thumbnails,"thumbnails")&&0<_.modal.thumbnails.length&&_.modal.thumbnails.slick({adaptiveHeight:!0,asNavFor:"#jckqv_images",slidesToShow:4,slidesToScroll:1,focusOnSelect:!0,arrows:!1,infinite:_.is_true(jckqv_vars.settings.popup_imagery_infinite),speed:jckqv_vars.settings.popup_imagery_transitionspeed})},cache_modal:function(){_.modal.slider_wrap=c("#jckqv_images_wrap"),_.modal.slider=c("#jckqv #jckqv_images"),_.modal.slider_nav=c("#jckqv #jckqv_thumbs"),_.modal.slider_clone=_.modal.slider.clone(),_.modal.variations_form=c("#jckqv form.variations_form"),_.modal.thumbnails=c("#jckqv #jckqv_thumbs"),_.modal.sku=c("#jckqv .sku"),_.modal.available_variations="undefined"!=typeof jck_available_variations&&jck_available_variations},get_products:function(){var e=[],s=[];return c("[data-jckqvpid]").each(function(a,t){var i=c(this).attr("data-jckqvpid");-1===c.inArray(i,s)&&(s.push(i),e.push({src:jckqv_vars.ajaxurl,product_id:i}))}),c(o.body).trigger("jckqv_getProducts"),e},watch_variations:function(){variation_loaded=_.modal.variations_form.hasClass(_.vars.loaded_class),_.modal.variations_form.on("change",function(){var a;""===c("input[name=variation_id]").val()||variation_loaded||(parseInt(c("input[name=variation_id]").val()),a=[{variation_id:c("input[name=variation_id]").val()},!0],_.modal.variations_form.trigger("show_variation",a),_.modal.variations_form.addClass(_.vars.loaded_class))}),_.modal.variations_form.on("show_variation",function(a,t){_.modal.slider.hasClass("loading")||(variation_id=_.plugins.swatches?c("input[name=variation_id]").val():t.variation_id,_.go_to_image(variation_id),_.modal.variations_form.addClass(_.vars.loaded_class))}),_.modal.variations_form.on("found_variation",function(a,t){t&&(t.sku?_.modal.sku.html(t.sku):_.modal.sku.html("n/a"))}),_.plugins.swatches&&""!==c("input[name=variation_id]").val()&&_.modal.variations_form.trigger("show_variation")},watch_reset:function(){_.modal.variations_form.on("reset_image",function(){_.modal.slider.hasClass("loading")||_.modal.slider.hasClass("reset")||_.go_to_image(0)})},go_to_image:function(a){_.modal.slider.hasClass("slick-initialized")&&(a=0<(a=c(_.modal.slider_clone).find('[data-jckqv~="-'+a+'-"]')).length?a.index():0,_.modal.slider.slick("slickGoTo",a),_.modal.thumbnails.slick("slickGoTo",a))},setup_qty_buttons:function(){c(o).on("click",".jckqv-qty-spinner",function(){var a=c(this),t=a.closest(".quantity").find(".qty");"plus"===a.attr("data-dir")?t.val(function(a,t){return++t}):t.val(function(a,t){return 1<t?t-1:1})})},setup_add_to_cart:function(){c("body").on("submit","#jckqv form.cart",function(a){a.preventDefault();var t=c(this),i=t.find("button[type=submit]"),a=t.serialize(),e=c("#addingToCart"),s=e.find("span"),o=e.find("i"),r="iconic-wqv-icon-cw animate-spin",n="iconic-wqv-icon-ok",d="iconic-wqv-icon-error";o.addClass(r).removeClass(n).removeClass(d),s.text(jckqv_vars.text.adding),e.fadeIn(),c("#jckqv .onsale").fadeOut(),_.add_to_cart(a,i,function(a){return void 0!==a.fragments?(o.addClass(n).removeClass(r),s.text(jckqv_vars.text.added)):(o.addClass(d).removeClass(r),s.text(a.message)),c("#jckqv .onsale").delay(2e3).fadeIn(),t.find(":disabled").prop("disabled",!1),"1"===jckqv_vars.settings.popup_content_autohidepopup&&"fail"!==a.result?setTimeout(function(){c.magnificPopup.instance.close()},2e3):e.delay(2e3).fadeOut(),!1})})},add_to_cart:function(a,t,i){a=c.getQueryParameters(a);a.action="jckqv_add_to_cart",a.nonce=jckqv_vars.nonce,a.product_id=void 0===a["add-to-cart"]?t.val():a["add-to-cart"],delete a["add-to-cart"],c(o.body).trigger("adding_to_cart",[t]),c.get(jckqv_vars.ajaxurl,a,function(a){void 0!==a.fragments&&_.update_cart_widget(a.fragments,a.cart_hash,t),"function"==typeof i&&i(a)})},update_cart_widget:function(a,t,i){var e=window.location.toString().replace("add-to-cart","added-to-cart");a&&c.each(a,function(a,t){c(a).addClass("updating")}),c(".shop_table.cart, .updating, .cart_totals").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}}),a&&c.each(a,function(a,t){c(a).replaceWith(t)}),c(".widget_shopping_cart, .updating").stop(!0).css("opacity","1").unblock(),c(".shop_table.cart").load(e+" .shop_table.cart:eq(0) > *",function(){c(".shop_table.cart").stop(!0).css("opacity","1").unblock(),c(o.body).trigger("cart_page_refreshed")}),c(".cart_totals").load(e+" .cart_totals:eq(0) > *",function(){c(".cart_totals").stop(!0).css("opacity","1").unblock()}),c(o.body).trigger("added_to_cart",[a,t,i])},get_index_by_product_id:function(a,t){for(var i=0;i<a.length;i++)if(a[i].product_id===t)return i;return 1},is_true:function(a,t){return t=void 0!==t?t:1,(a=c.isNumeric(a)?parseInt(a):a)===t},reset_modal:function(){_.vars.add_to_cart_params&&(wc_add_to_cart_params=_.vars.add_to_cart_params),_.vars.add_to_cart_variation_params&&(wc_add_to_cart_variation_params=_.vars.add_to_cart_variation_params)}};c(o).ready(_.on_ready())}(jQuery,document),jQuery.extend({getQueryParameters:function(a){return(a||document.location.search).replace(/(^\?)/,"").split("&").map(function(a){return this[(a=a.split("="))[0]]=a[1],this}.bind({}))[0]}});